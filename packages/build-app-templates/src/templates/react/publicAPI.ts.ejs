import { useEffect } from 'react';
import { createAppShared } from '@ice/runtime/lib/createAppShared';
import { getInitialData } from '@ice/runtime/lib/reactAppRenderer';

import ErrorBoundary from './ErrorBoundary';

const {
  withPageLifeCycle,
  createUsePageLifeCycle,
  emitLifeCycles,
  createBaseApp,
  getSearchParams,
} = createAppShared;

const { usePageShow, usePageHide } = createUsePageLifeCycle({ useEffect });

// Public API
export {
  createBaseApp,
  getInitialData,
  // LifeCycles api
  emitLifeCycles,
  usePageShow,
  usePageHide,
  withPageLifeCycle,
  ErrorBoundary,
  getSearchParams,
};
